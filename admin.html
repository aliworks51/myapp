<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Admin Commandes</title>
<style>
  body { font-family: Arial; padding: 20px; }
  table { border-collapse: collapse; width: 100%; }
  th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
  th { background-color: #f4a261; color: #fff; }
</style>
</head>
<body>
<h1>ðŸ“‹ Liste des Commandes</h1>
<table id="commandesTable">
  <thead>
    <tr>
      <th>ID</th>
      <th>Nom</th>
      <th>PrÃ©nom</th>
      <th>TÃ©lÃ©phone</th>
      <th>Adresse</th>
      <th>Plat</th>
      <th>Date</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>

<script>
const SERVER = "https://myapp-backend.fly.dev"; // ØºÙŠÙ‘Ø± Ù‡Ø§Ø¯ Ø§Ù„Ø±Ø§Ø¨Ø· Ø¨Ø¹Ø¯ Ø§Ù„Ù†Ø´Ø± Ø¹Ù„Ù‰ Fly.io

async function loadCommandes() {
  const res = await fetch(`${SERVER}/commandes`);
  const commandes = await res.json();
  const tbody = document.querySelector("#commandesTable tbody");
  tbody.innerHTML = "";
  commandes.forEach(c => {
    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td>${c.id}</td>
      <td>${c.nom}</td>
      <td>${c.prenom}</td>
      <td>${c.phone}</td>
      <td>${c.address}</td>
      <td>${c.plat}</td>
      <td>${c.date}</td>
    `;
    tbody.appendChild(tr);
  });
}

loadCommandes();
setInterval(loadCommandes, 5000); // ØªØ­Ø¯ÙŠØ« ÙƒÙ„ 5 Ø«ÙˆØ§Ù†ÙŠ
</script>
</body>
</html>
